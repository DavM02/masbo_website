var vt=i=>{throw TypeError(i)};var $=(i,e,t)=>e.has(i)||vt("Cannot "+t);var s=(i,e,t)=>($(i,e,"read from private field"),t?t.call(i):e.get(i)),y=(i,e,t)=>e.has(i)?vt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),l=(i,e,t,r)=>($(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),p=(i,e,t)=>($(i,e,"access private method"),t);import{t as _t,v as Rt,w as E,x as tt,y as z,z as et,B as st,C as wt,E as Dt,F as X,G as Mt,H as Lt,I as Ot,J as Qt,K as Ct,M as qt,N as Et,O as xt,P as jt,i as At,Q as Ht,R as Bt,T as Z,U as lt,V as dt,W as pt,X as ft,Y as zt,Z as Pt,c as Nt,a as Y}from"./index-L0UYmGk2.js";import{M as Wt}from"./MainButton-8wDXPQ2b.js";var R,a,N,b,S,D,T,F,W,M,L,k,_,Q,j,o,B,it,rt,nt,at,ot,ht,ct,St,Ft,Kt=(Ft=class extends _t{constructor(e,t){super();y(this,o);y(this,R);y(this,a);y(this,N);y(this,b);y(this,S);y(this,D);y(this,T);y(this,F);y(this,W);y(this,M);y(this,L);y(this,k);y(this,_);y(this,Q);y(this,j,new Set);this.options=t,l(this,R,e),l(this,F,null),l(this,T,Rt()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(s(this,a).addObserver(this),It(s(this,a),this.options)?p(this,o,B).call(this):this.updateResult(),p(this,o,at).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ut(s(this,a),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ut(s(this,a),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,p(this,o,ot).call(this),p(this,o,ht).call(this),s(this,a).removeObserver(this)}setOptions(e){const t=this.options,r=s(this,a);if(this.options=s(this,R).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof E(this.options.enabled,s(this,a))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");p(this,o,ct).call(this),s(this,a).setOptions(this.options),t._defaulted&&!tt(this.options,t)&&s(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:s(this,a),observer:this});const c=this.hasListeners();c&&Tt(s(this,a),r,this.options,t)&&p(this,o,B).call(this),this.updateResult(),!c||s(this,a)===r&&E(this.options.enabled,s(this,a))===E(t.enabled,s(this,a))&&z(this.options.staleTime,s(this,a))===z(t.staleTime,s(this,a))||p(this,o,it).call(this);const h=p(this,o,rt).call(this);!c||s(this,a)===r&&E(this.options.enabled,s(this,a))===E(t.enabled,s(this,a))&&h===s(this,Q)||p(this,o,nt).call(this,h)}getOptimisticResult(e){const t=s(this,R).getQueryCache().build(s(this,R),e),r=this.createResult(t,e);return(function(c,h){return!tt(c.getCurrentResult(),h)})(this,r)&&(l(this,b,r),l(this,D,this.options),l(this,S,s(this,a).state)),r}getCurrentResult(){return s(this,b)}trackResult(e,t){return new Proxy(e,{get:(r,c)=>(this.trackProp(c),t==null||t(c),c==="promise"&&(this.trackProp("data"),this.options.experimental_prefetchInRender||s(this,T).status!=="pending"||s(this,T).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,c))})}trackProp(e){s(this,j).add(e)}getCurrentQuery(){return s(this,a)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=s(this,R).defaultQueryOptions(e),r=s(this,R).getQueryCache().build(s(this,R),t);return r.fetch().then((()=>this.createResult(r,t)))}fetch(e){return p(this,o,B).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),s(this,b))))}createResult(e,t){var gt;const r=s(this,a),c=this.options,h=s(this,b),u=s(this,S),w=s(this,D),K=e!==r?e.state:s(this,N),{state:g}=e;let d,f={...g},q=!1;if(t._optimisticResults){const C=this.hasListeners(),H=!C&&It(e,t),G=C&&Tt(e,r,t,c);(H||G)&&(f={...f,...Lt(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:A,errorUpdatedAt:P,status:x}=f;d=f.data;let n=!1;if(t.placeholderData!==void 0&&d===void 0&&x==="pending"){let C;h!=null&&h.isPlaceholderData&&t.placeholderData===(w==null?void 0:w.placeholderData)?(C=h.data,n=!0):C=typeof t.placeholderData=="function"?t.placeholderData((gt=s(this,L))==null?void 0:gt.state.data,s(this,L)):t.placeholderData,C!==void 0&&(x="success",d=Ot(h==null?void 0:h.data,C,t),q=!0)}if(t.select&&d!==void 0&&!n)if(h&&d===(u==null?void 0:u.data)&&t.select===s(this,W))d=s(this,M);else try{l(this,W,t.select),d=t.select(d),d=Ot(h==null?void 0:h.data,d,t),l(this,M,d),l(this,F,null)}catch(C){l(this,F,C)}s(this,F)&&(A=s(this,F),d=s(this,M),P=Date.now(),x="error");const m=f.fetchStatus==="fetching",v=x==="pending",O=x==="error",I=v&&m,bt=d!==void 0,U={status:x,fetchStatus:f.fetchStatus,isPending:v,isSuccess:x==="success",isError:O,isInitialLoading:I,isLoading:I,data:d,dataUpdatedAt:f.dataUpdatedAt,error:A,errorUpdatedAt:P,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>K.dataUpdateCount||f.errorUpdateCount>K.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:O&&!bt,isPaused:f.fetchStatus==="paused",isPlaceholderData:q,isRefetchError:O&&bt,isStale:yt(e,t),refetch:this.refetch,promise:s(this,T),isEnabled:E(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=U.data!==void 0,H=U.status==="error"&&!C,G=V=>{H?V.reject(U.error):C&&V.resolve(U.data)},mt=()=>{const V=l(this,T,U.promise=Rt());G(V)},J=s(this,T);switch(J.status){case"pending":e.queryHash===r.queryHash&&G(J);break;case"fulfilled":(H||U.data!==J.value)&&mt();break;case"rejected":H&&U.error===J.reason||mt()}}return U}updateResult(){const e=s(this,b),t=this.createResult(s(this,a),this.options);l(this,S,s(this,a).state),l(this,D,this.options),s(this,S).data!==void 0&&l(this,L,s(this,a)),!tt(t,e)&&(l(this,b,t),p(this,o,St).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,c=typeof r=="function"?r():r;if(c==="all"||!c&&!s(this,j).size)return!0;const h=new Set(c??s(this,j));return this.options.throwOnError&&h.add("error"),Object.keys(s(this,b)).some((u=>{const w=u;return s(this,b)[w]!==e[w]&&h.has(w)}))})()}))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&p(this,o,at).call(this)}},R=new WeakMap,a=new WeakMap,N=new WeakMap,b=new WeakMap,S=new WeakMap,D=new WeakMap,T=new WeakMap,F=new WeakMap,W=new WeakMap,M=new WeakMap,L=new WeakMap,k=new WeakMap,_=new WeakMap,Q=new WeakMap,j=new WeakMap,o=new WeakSet,B=function(e){p(this,o,ct).call(this);let t=s(this,a).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(et)),t},it=function(){p(this,o,ot).call(this);const e=z(this.options.staleTime,s(this,a));if(st||s(this,b).isStale||!wt(e))return;const t=Dt(s(this,b).dataUpdatedAt,e)+1;l(this,k,X.setTimeout((()=>{s(this,b).isStale||this.updateResult()}),t))},rt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(s(this,a)):this.options.refetchInterval)??!1},nt=function(e){p(this,o,ht).call(this),l(this,Q,e),!st&&E(this.options.enabled,s(this,a))!==!1&&wt(s(this,Q))&&s(this,Q)!==0&&l(this,_,X.setInterval((()=>{(this.options.refetchIntervalInBackground||Mt.isFocused())&&p(this,o,B).call(this)}),s(this,Q)))},at=function(){p(this,o,it).call(this),p(this,o,nt).call(this,p(this,o,rt).call(this))},ot=function(){s(this,k)&&(X.clearTimeout(s(this,k)),l(this,k,void 0))},ht=function(){s(this,_)&&(X.clearInterval(s(this,_)),l(this,_,void 0))},ct=function(){const e=s(this,R).getQueryCache().build(s(this,R),this.options);if(e===s(this,a))return;const t=s(this,a);l(this,a,e),l(this,N,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},St=function(e){Qt.batch((()=>{e.listeners&&this.listeners.forEach((t=>{t(s(this,b))})),s(this,R).getQueryCache().notify({query:s(this,a),type:"observerResultsUpdated"})}))},Ft);function It(i,e){return(function(t,r){return E(r.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&r.retryOnMount===!1)})(i,e)||i.state.data!==void 0&&ut(i,e,e.refetchOnMount)}function ut(i,e,t){if(E(e.enabled,i)!==!1&&z(e.staleTime,i)!=="static"){const r=typeof t=="function"?t(i):t;return r==="always"||r!==!1&&yt(i,e)}return!1}function Tt(i,e,t,r){return(i!==e||E(r.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&yt(i,t)}function yt(i,e){return E(e.enabled,i)!==!1&&i.isStaleByTime(z(e.staleTime,i))}var kt=qt(!1);kt.Provider;var Gt=qt((function(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}})()),Ut=(i,e,t)=>e.fetchOptimistic(i).catch((()=>{t.clearReset()}));function Jt(i,e,t){var q,A,P,x;const r=Ct(kt),c=Ct(Gt),h=jt(),u=h.defaultQueryOptions(i);(A=(q=h.getDefaultOptions().queries)==null?void 0:q._experimental_beforeQuery)==null||A.call(q,u);const w=h.getQueryCache().get(u.queryHash);u._optimisticResults=r?"isRestoring":"optimistic",(n=>{if(n.suspense){const v=I=>I==="static"?I:Math.max(I??1e3,1e3),O=n.staleTime;n.staleTime=typeof O=="function"?(...I)=>v(O(...I)):v(O),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}})(u),((n,m,v)=>{const O=v!=null&&v.state.error&&typeof n.throwOnError=="function"?Et(n.throwOnError,[v.state.error,v]):n.throwOnError;(n.suspense||n.experimental_prefetchInRender||O)&&(m.isReset()||(n.retryOnMount=!1))})(u,c,w),(n=>{xt((()=>{n.clearReset()}),[n])})(c);const K=!h.getQueryCache().get(u.queryHash),[g]=At((()=>new e(h,u))),d=g.getOptimisticResult(u),f=!r&&i.subscribed!==!1;if(Ht(Bt((n=>{const m=f?g.subscribe(Qt.batchCalls(n)):et;return g.updateResult(),m}),[g,f]),(()=>g.getCurrentResult())),xt((()=>{g.setOptions(u)}),[u,g]),((n,m)=>(n==null?void 0:n.suspense)&&m.isPending)(u,d))throw Ut(u,g,c);if((({result:n,errorResetBoundary:m,throwOnError:v,query:O,suspense:I})=>n.isError&&!m.isReset()&&!n.isFetching&&O&&(I&&n.data===void 0||Et(v,[n.error,O])))({result:d,errorResetBoundary:c,throwOnError:u.throwOnError,query:w,suspense:u.suspense}))throw d.error;if((x=(P=h.getDefaultOptions().queries)==null?void 0:P._experimental_afterQuery)==null||x.call(P,u,d),u.experimental_prefetchInRender&&!st&&((n,m)=>n.isLoading&&n.isFetching&&!m)(d,r)){const n=K?Ut(u,g,c):w==null?void 0:w.promise;n==null||n.catch(et).finally((()=>{g.updateResult()}))}return u.notifyOnChangeProps?d:g.trackResult(d)}function Zt(i,e,t={}){return(function(r){return Jt(r,Kt)})({queryKey:[i],queryFn:async()=>{if(typeof e=="function")return await e();{const r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch: ${r.statusText}`);return await r.json()}},staleTime:1/0,cacheTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1,...t})}async function $t(i,e){try{const t=dt(pt,i),r=e&&e!=="all"?await Z(lt(t,ft("category"),Pt(e))):await Z(t);return r.exists()?Object.values(r.val()):[]}catch(t){throw console.error("Error loading data:",t),t}}async function te([i,e]){if(!i)throw new Error("Id is required");try{const t=dt(pt,e),r=lt(t,ft("id"),Pt(i)),c=await Z(r);if(c.exists()){const h=c.val();return Object.values(h)[0]}return null}catch{throw new Error("An unexpected error occurred")}}async function ee(i="blog",e=3){if(!i)throw new Error("Path is required");try{const t=await Z(lt(dt(pt,i),ft("id"),zt(e)));return t.exists()?Object.values(t.val()).reverse():[]}catch(t){throw console.error("Error loading latest news:",t),t}}function se({text:i}){const e=Nt();return Y("div",{className:"center-gr gap-10",style:{minHeight:"inherit"},children:[Y("h2",{className:"capitalize text-gray text-center",children:i}),Y("div",{className:"row center-x",children:Y(Wt,{onClick:()=>e(-1),arrow:!1,type:"button",children:"go back"})})]})}export{se as E,ee as a,te as g,$t as l,Zt as u};
